// Damon Wu 
// 10/7/2024
// Lab 5

#include<iostream>
#include<string>
#include<iomanip>

using namespace std;

int main (){
    // lists variables
    double Debit = 0;  // starting debit
    double Credit = 0; // starting credit amount
    string type;       // type of transcation 
    char request;      // the request on whether to continue or not. 
    double start;      // starting money.
    double numtrans;   // number of transactions made
    double amttrans;   // the value of each transaction
    bool loop = true;  // determines if loop continues 

    while (loop = true){
    cout << "Hello, please put in how much money you have in your bank account right now. \n";
    cin >> start;

    cout << "How many transactions you have done today? \n";
    cin >> numtrans;

    while (numtrans > 0){
    cout << "Ok, what kind of transaction do you want to make, Credit or Debit? 'please note that this is case sensitive.' \n";
    cin >> type;

    if (type != "Credit" && type != "Debit") {
        cout<< "Invalid input, please re-type your submission, please also check if you made a mistake in typing the method \n";
        cin >> type;
    }   

    cout << "How much was the transaction you made? \n";
    cin >> amttrans;

        if (type == "Debit"){
         cout << "Your New Balance in your account is $" <<fixed<< setprecision(2)<< start - amttrans << ".\n";
        numtrans = numtrans - 1;
        Debit = Debit + amttrans;
        }
        else if(type == "Credit"){
            cout << "Your new balance in your account is $" <<fixed<< setprecision(2)<< start + amttrans << ". \n";
        numtrans = numtrans -1;
        Credit = Credit + amttrans;
        }
        
        if (numtrans == 0){
        
        cout << "Total credit addition: $" <<Credit<< "\n";
        cout << "Total debit decrease: $" <<Debit<< "\n";
        cout << "Do you want to continue checking your balance? If you want to start a new one, press 'N' or 'n' to then start fresh.  '\n";
            cin >> request;
            if (request = 'N' || 'n')
        {
            loop = false;
            cout << "Have a good day!" << endl;   
            return 0;   
        }
        }
    }
    }
}